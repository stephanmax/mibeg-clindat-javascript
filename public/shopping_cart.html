<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
</head>

<body>
    <ul>
        <!-- Dynamisch generiertes HTML -->
    </ul>
    <p>Sie wollen also Folgendes einkaufen: <mark id="shoppingList"></mark></p>

    <script>
        const goods = [
            "Ã„pfel",
            "Eier",
            "Milch",
            "Klopapier"
        ];
        const ul = document.querySelector("ul");

        for (const good of goods) {
            const html = `<li><label><input type="checkbox" value="${good}"> ${good}</label></li>`;
            ul.insertAdjacentHTML("beforeend", html);
        }

        const generateShoppingList = () => {
            const allCheckboxes = document.querySelectorAll("input");
            const selectedGoods = [];

            for (const e of allCheckboxes) {
                if (e.checked) {
                    selectedGoods.push(e.value);
                }
            }

            const output = document.querySelector("#shoppingList");
            output.innerText = selectedGoods.length > 0
                ? selectedGoods.join(", ")
                : "Nichts einzukaufen! Happy days!";
        };

        ul.addEventListener(
            "click",
            generateShoppingList
        );
    </script>
</body>

</html>